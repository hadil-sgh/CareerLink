<!-- the performance list display  -->
<div class="row">
    <div class="col-lg-12 d-flex align-items-stretch">
      <div class="card w-100">
        <div class="card-body p-4">
          <div class="mb-4"></div>
      
          <div class="d-flex justify-content-between align-items-center">
            
            <form [formGroup]="performanceForm" (ngSubmit)="filter()" class="form-inline mx-auto" id="searchForm">
                <div class="form-group mr-2">
                    <select formControlName="week" class="form-control" id="week">
                        <option value="1">January</option>
                        <option value="2">February</option>
                        <option value="3">March</option>
                        <option value="4">April</option>
                        <option value="5">May</option>
                        <option value="6">June</option>
                        <option value="7">July</option>
                        <option value="8">August</option>
                        <option value="9">September</option>
                        <option value="10">October</option>
                        <option value="11">November</option>
                        <option value="12">December</option>
                    </select>
                </div>
                <div class="form-group mr-2">
                    <input type="number" formControlName="year" class="form-control" id="year" placeholder="Year">
                </div>
                <button type="submit" class="btn btn-primary" (click)="filter()">Search</button>
            </form>
            
            <div class="statistics-button">
                <button type="submit" class="btn btn-outline-primary m-1" routerLink="/admin/performenceadd">
                    <img src="/assets/FrontOffice/img/add.png" alt="Edit Icon" class="button-icon" />
                    Add
                </button>
            </div>
        </div>
        
  
          <div class="separator"></div>
          <table class="table">
            <thead>
              <tr>
                <th>Employee</th>
                <th>Rating</th>
                <th>Comment</th>
                <th>Date</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let performance of performanceList">
                <td>{{ performance.user.firstName}} {{ performance.user.lastName }}</td>
                <td>
                  <div class="star-rating">
                    <span *ngFor="let star of getStars(performance.grade)" class="star" [ngClass]="{'checked': star === 'checked', 'half': star === 'half'}">&#9733;</span>
                  </div>
                  
                  
                  
                  
                </td>
                <td>{{ performance.comment }}</td>
                <td>{{ performance.week }} / {{ performance.year }}</td>
                <td>
                  <button type="button" class="btn btn-outline-success m-1" data-toggle="modal" data-target="#exampleModal" (click)="openEditModal(performance)">
                    <img src="/assets/FrontOffice/img/edit.png" alt="Edit Icon" class="button-icon" />
                  </button>
                  <button type="button" class="btn btn-outline-danger m-1" (click)="deletePerformance(performance.idperformence)">
                    <img src="/assets/FrontOffice/img/delete.png" alt="Edit Icon" class="button-icon" />
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
          
        
        </div>
      </div>
    </div>
  </div>
  

  <style>
    .card-deck {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-around;
    }
  
    .button-margin {
      margin: 20px;
    }
  
    .separator {
      height: 40px;
    }
  
    .separator1 {
      height: 10px;
    }
  
    .button-space {
      margin: 0 10px;
    }
  
    .button-space1 {
      margin: 0 5px;
    }
  
    .swal-center {
      display: flex;
      align-items: center;
      justify-content: center;
    }
  
    .button-icon,
    .status-icon {
      width: 20px;
      height: auto;
      margin-right: 5px;
    }
  
    .star-rating {
  font-size: 24px;
}

.star {
  color: gray;
  display: inline-block;
}

.checked {
  color: gold;
}

.half {
  position: relative;
  display: inline-block;
}

.half:before {
  content: '\2605'; /* Unicode character for a solid star */
  position: absolute;
  overflow: hidden;
  width: 50%; /* Display half of the star */
  color: gold; /* Color of the half star */
}


    .button-icon1 {
      width: 40px;
      height: auto;
      margin-right: 5px;
    }
  
    .card-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
    }
  
    .card-container .card {
      flex: 0 0 calc(25% - 15px);
      margin-bottom: 15px;
    }
  
    #searchForm {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 20px; /* Add some top margin for spacing */
    }
  
    #searchForm .form-group {
      margin-right: 10px; /* Adjust as needed */
    }
  </style>
  
<!-- Add modal markup at the end of your HTML template -->
<div id="editPerformanceModal" class="modal">
    <div class="modal-dialog">
      <div class="modal-content">
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Edit Performance</h4>
          <button type="button" class="close" (click)="closeEditModal()">&times;</button>
        </div>
        <!-- Modal body -->
        <div class="modal-body">
          <!-- Editable form fields -->
          <form [formGroup]="performanceForm2" (ngSubmit)="updatePerformance()">
            <div class="form-group">
              <label for="editGrade">Grade:</label>
              <input type="text" class="form-control" id="grade" formControlName="grade">
            </div>
            <div class="form-group">
              <label for="editComment">Comment:</label>
              <input type="text" class="form-control" id="comment" formControlName="comment">
            </div>
            <!-- Add other form controls as needed -->
            <button type="submit" class="btn btn-primary">Save Changes</button>
          </form>
          
        </div>
      </div>
    </div>
  </div>
  
  
