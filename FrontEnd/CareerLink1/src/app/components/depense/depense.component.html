<div class="container mt-3">
    <app-header-front></app-header-front>
  
    <div class="card mt-3">
      <div class="card-body">
        <h6 class="card-title mb-4">Expense List</h6>
        <div class="row row-cols-1 row-cols-md-5">
          <ng-container *ngFor="let expense of expenses">
            <div class="col mb-4">
              <div class="card shadow-sm expense-card">
                <div class="card-body">
                  <p class="card-text"><strong>User:</strong> {{expense.user ? expense.user.firstName : 'N/A'}}</p>
                  <p class="card-text"><strong>Project:</strong> {{ expense.project ? expense.project.name : 'N/A' }}</p>
                  <p class="card-text"><strong>Amount:</strong> {{ expense.amount }}</p>
                  <p class="card-text"><strong>Date:</strong> {{ expense.dateexpense | date }}</p>
                  <p class="card-text"><strong>Category:</strong> {{ expense.category }}</p>
                  <p class="card-text"><strong>Method Payment:</strong> {{ expense.methodPayment }}</p>
  
                  <div class="d-flex justify-content-between align-items-center mt-3">
                    <!-- Bouton "Pay" avec style personnalis√© -->
                    <button type="button" class="btn" [ngClass]="{'btn-success': expense.statusPayment !== 'PAYE', 'btn-dark': expense.statusPayment === 'PAYE'}" (click)="payExpense(expense)" [disabled]="expense.statusPayment === 'PAYE'">
                      <i class="fas fa-money-bill-alt mr-2"></i> {{ expense.statusPayment === 'PAYE' ? 'Paid‚úîÔ∏è' : 'Payüí≤' }}
                      <ng-container *ngIf="expense.statusPayment === 'PAYE'">
                        <i class="fas fa-check-circle text-success ml-1"></i>
                      </ng-container>
                    </button>
  
                    <!-- Affiche le bouton "Claim" seulement si le paiement n'est pas effectu√© -->
                    <ng-container *ngIf="expense.statusPayment !== 'PAYE'">
                      <button type="button" class="btn btn-warning" [disabled]="hasReclamation(expense)" [routerLink]="['/Employee/reclamation', expense.idexpense]">
                        <i class="fas fa-bullhorn mr-2"></i> {{ hasReclamation(expense) ? 'Claimed' : 'Claimüì£' }}
                      </button>
                    </ng-container>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
        </div>
        <!-- Affiche un message si la liste des d√©penses est vide -->
        <div *ngIf="expenses.length === 0" class="text-center mt-4">
          <p>No expenses found.</p>
        </div>
      </div>
    </div>
  
    <!-- Ajout du bouton "Check Claims" en bas de la page -->
    <div class="text-center mt-3">
      <button type="button" class="btn btn-primary" [routerLink]="'/Employee/reclamation'">
        <i class="fas fa-bullhorn mr-2"></i> Check Claims
      </button>
    </div>
  </div>
  