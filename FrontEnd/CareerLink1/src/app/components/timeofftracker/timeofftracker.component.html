<div class="separator"></div>
  
    <!-- ======= Services Section ======= -->
    <section id="services" class="services">
      <div class="container" data-aos="fade-up">
        <link rel="stylesheet" href="/assets/BackOffice/css/styles.min.css" />
        <div class="section-title">
          <h2>your leave History</h2>
       
        </div>

        <div class="row">
          <div class="col-lg-4 col-md-6 d-flex align-items-stretch" data-aos="zoom-in" data-aos-delay="100" *ngFor="let timeoff of timesOff">
            <div class="icon-box" [ngStyle]="{'max-width': '400px', 'padding': '60px', 'margin-bottom': '20px', 'box-shadow': '0px 0px 10px 0px rgba(0, 0, 0, 0.1)'}" >
              <p>this leave request is corrently </p>
              <h4>{{timeoff.status}}</h4>
             
                <p>Type Of Leave   : {{timeoff.type}}</p>                     
                <p>Description   :  {{timeoff.description}}</p>
                <p>From :{{timeoff.fromDate}} </p>
                <p>To  :{{timeoff.toDate}}</p>
                <button type="submit" class="btn btn-outline-success m-1" data-toggle="modal" data-target="#exampleModal" (click)="popUpModal()">Edit</button>
                <span class="button-space1"></span> 
                <button type="submit" class="btn btn-outline-danger m-1" (click)="deletetimeOff(timeoff.id)">Delete</button>
            </div>
          </div>
        </div>
      </div>
    </section><!-- End Services Section -->






    <!-- ======= Take leave Section ======= -->
    <section id="about" class="about">
      <div class="container" data-aos="fade-up">

        <div class="row">
          <div class="col-lg-6 order-1 order-lg-2" data-aos="fade-left" data-aos-delay="100">
            <img src="assets/FrontOffice/img/about.jpg" class="img-fluid" alt="">
          </div>
          <div class="col-lg-6 pt-4 pt-lg-0 order-2 order-lg-1 content" data-aos="fade-right" data-aos-delay="100">
           
            <div class="card">
              <div class="card-body"> 
            <div class="container">
              <h1 style="text-align: center;">Take Time Off</h1>
              <form [formGroup]="timeoffForm" (ngSubmit)="addTimeOff()">
                <div class="mb-3">
                  <div class="form-group">
        
                  <label for="type" class="form-label">Leave Type</label>
                   <select id="type" class="form-select" formControlName="type">
                    <option value="Casual">Casual</option>
                    <option value="Compassionate">Compassionate</option>
                    <option value="Medical">Medical </option>
                    <option value="Maternity">Maternity</option>
                    <option value="Unpaid">Unpaid</option>
                    <option value="Other">Other</option>
                  </select>
                  </div>
                </div>
                <div class="alert alert-danger" *ngIf="this.timeoffForm.controls['type'].invalid && this.timeoffForm.controls['type'].touched">
                  <div *ngIf="this.timeoffForm.controls['type'].hasError('required')"> Type is required !</div>
                </div>
                
              
                <div class="form-group">
                  <label class="form-label"for="description">Description:</label>
                  <input type="text" formControlName="description" class="form-control" id="description">
                </div>
                <div  *ngIf="this.timeoffForm.controls['description'].invalid && this.timeoffForm.controls['description'].touched">
                  <div class="alert alert-danger"*ngIf="this.timeoffForm.controls['description'].hasError('required')"> Description is required !</div>
                  <div class="alert alert-warning" *ngIf="this.timeoffForm.controls['description'].hasError('minlength')"> Length must be more then 5 letters ! </div>
                  <div class="alert alert-primary " *ngIf="this.timeoffForm.controls['description'].hasError('maxlength')"> Length must be less then 20 letters ! </div>
        
                </div>
                
              
                <div class="form-group">
                  <label class="form-label" for="Employee">Employee:</label>
                  <select formControlName="user" class="form-control">
                    <ng-container *ngFor="let user of users">
                      <option [ngValue]="user">
                        {{ user.firstName }} {{ user.lastName }}
                      </option>
                    </ng-container>
                  </select>
                </div>
                <div class="alert alert-danger" *ngIf="this.timeoffForm.controls['user'].invalid && this.timeoffForm.controls['user'].touched">
                  <div *ngIf="this.timeoffForm.controls['user'].hasError('required')"> Employee is required !</div>
                </div>
        
                <div class="form-group">
                  <label class="form-label" for="fromDate">From Date:</label>
                  <input type="date" formControlName="fromDate" class="form-control" id="fromDate">
                </div>
                <div  *ngIf="this.timeoffForm.controls['fromDate'].invalid && this.timeoffForm.controls['fromDate'].touched">
                  <div class="alert alert-danger" *ngIf="this.timeoffForm.controls['fromDate'].hasError('required')"> Please specify the start of your leave!</div>
                  <div class="alert alert-warning" *ngIf="this.timeoffForm.controls['fromDate'].hasError('dateGreaterThanToday')"> Please select a valid start date for your leave!</div>
                </div>
                
              
                <div class="form-group">
                  <label class="form-label" for="toDate">To Date:</label>
                  <input type="date" formControlName="toDate" class="form-control" id="toDate">
                </div>
                <div  *ngIf="this.timeoffForm.controls['toDate'].invalid && this.timeoffForm.controls['toDate'].touched">
                  <div class="alert alert-danger" *ngIf="this.timeoffForm.controls['toDate'].hasError('required')">  Please specify when you will be back !</div>
                  <div class="alert alert-warning" *ngIf="this.timeoffForm.controls['toDate'].hasError('toDateValidator')"> Please select a valid return date !</div>
                </div>
              
                <div class="separator1"></div>
                <div class="text-center">
                  <button type="submit" class="btn btn-outline-primary m-1" >Add</button>
                  <span class="button-space"></span>
                  <button type="button" class="btn btn-outline-secondary m-1" (click)="cancel()">clear</button>
                </div>
              </form>
              
            </div>
            
            
          </div>
        </div>
            
          </div>
        </div>
     
      </div>
    </section><!-- End Take leave Section --> 

    <style>
      .separator {
      height: 100px; }
      .separator1 {
      height: 10px; }
      .button-space {
      margin: 0 10px; } 
      .button-space1 {
      margin: 0 5px; 
    }
    .swal-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

    
    </style>



    <div class="separator"></div>




<!-- Large modal -->


<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
       
      
      </div>
      <div class="modal-body">
        <form [formGroup]="timeoffForm" >
          <div class="mb-3">
            <div class="form-group">
  
            <label for="type" class="form-label">Leave Type</label>
             <select id="type" class="form-select" formControlName="type">
              <option value="Casual">Casual</option>
              <option value="Compassionate">Compassionate</option>
              <option value="Medical">Medical </option>
              <option value="Maternity">Maternity</option>
              <option value="Unpaid">Unpaid</option>
              <option value="Other">Other</option>
            </select>
            </div>

          </div>
          <div class="form-group">
            <label class="form-label" for="Employee">Employee:</label>
            <select formControlName="user" class="form-control">
              <ng-container *ngFor="let user of users">
                <option [ngValue]="user">
                  {{ user.firstName }} {{ user.lastName }}
                </option>
              </ng-container>
            </select>
          </div>
        
          <div class="form-group">
            <label class="form-label"for="description">Description:</label>
            <input type="text" formControlName="description" class="form-control" id="description">
          </div>
         
  
          <div class="form-group">
            <label class="form-label" for="fromDate">From Date:</label>
            <input type="date" formControlName="fromDate" class="form-control" id="fromDate">
          </div>
          
        
          <div class="form-group">
            <label class="form-label" for="toDate">To Date:</label>
            <input type="date" formControlName="toDate" class="form-control" id="toDate">
          </div>
         
        
          
        </form>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-outline-primary m-1" >Edit</button>
        <button type="button" class="btn btn-outline-secondary m-1" (click)="cancel()">Clear</button>
        <button type="button" class="btn btn-outline-danger m-1" data-dismiss="modal" (click)="closeModal()">Close</button>
      </div>
    </div>
  </div>
</div>

